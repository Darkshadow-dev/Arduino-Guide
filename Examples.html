<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="icon" type="image/png" href="Website-Guide.png">

<title>Arduino Guide</title>

<style>
:root{
  --bg:#f5faff;
  --panel:#e9f4ff;
  --accent:#00979d;
  --accent2:#00c853;
  --text:#0b1c2d;
  --max:1100px;
  --font: system-ui, Arial;
}

*{box-sizing:border-box;margin:0;padding:0}

body{
  font-family:var(--font);
  background:var(--bg);
  color:var(--text);
}

/* HEADER */
header{
  position:fixed;
  top:0;left:0;right:0;
  background:var(--panel);
  padding:12px 16px;
  z-index:1000;
  box-shadow:0 2px 6px rgba(0,0,0,.1);
}

/* NAV */
nav{
  display:flex;
  align-items:center;
  gap:8px;
  margin-top:10px;
}

.nav-spacer{
  flex:1;
}

nav::-webkit-scrollbar{display:none}
::-webkit-scrollbar{display:none}

nav a{
  display:inline-block;
  margin:0 6px;
  padding:8px 12px;
  text-decoration:none;
  color:var(--accent);
  border-radius:6px;
  font-weight:600;
}
nav a:hover{
  background:rgba(0,151,157,.15);
}

.topbar{
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
}

.title{
  font-size:20px;
  font-weight:700;
  color:var(--accent);
}

.logo{
  position:absolute;
  height:36px;
  width:36px;
  border-radius:50%;
  object-fit:cover;
  background:white;
  padding:2px;
  font-size:20px;
  font-weight:700;
  color:var(--accent);
  text-align:center;
}

.logo.left{ left:12px; }
.logo.right{ right:12px; }

/* MAIN */
main{
  max-width:var(--max);
  margin:auto;
  padding:120px 16px 80px;
}

main{
  padding-bottom:15vh;
}

/* ROOT HEIGHT */
html, body{
  height:100%;
}

/* Examples page ONLY when active */
#examples.active{
  position:fixed;
  top:120px;
  bottom:60px;
  left:0;
  right:0;
  display:flex;
}

/* LAYOUT */
.examples-layout{
  display:flex;
  width:100%;
  height:100%;
}

/* LEFT MENU – 20% WIDTH, FULL HEIGHT */
.examples-menu{
  width:20%;
  height:100%;
  background:white;
  border-right:4px solid var(--accent2);
  padding:12px;
  overflow-y:auto;
}

/* MAIN CONTENT – 80% WIDTH, FULL HEIGHT */
.examples-content{
  width:80%;
  height:100%;
  background:white;
  padding:24px;
  overflow-y:auto;
}

.examples-menu div:hover{
  background:rgba(0,151,157,.12);
}

.example-item,
.example-item * {
  cursor: pointer;
  user-select: none;
}

.examples-menu h3{
  margin: 16px 0 8px;
  font-size: 14px;
  text-transform: uppercase;
  opacity: .7;
}

.code-block{
  position:relative;
  background:#0e1a24;
  color:#b9f6ca;
  padding:16px;
  border-radius:6px;
  margin-top:16px;
  overflow:auto;
}

.code-block pre{
  margin:0;
  font-family:monospace;
  font-size:15px;
}

/* COPY BUTTON */
.copy-btn{
  position:absolute;
  top:8px;
  right:8px;
  background:var(--accent2);
  border:none;
  color:#003;
  font-weight:700;
  padding:6px 10px;
  border-radius:4px;
  cursor:pointer;
}

.copy-btn:hover{
  background:#00e676;
}

/* DROPDOWN WRAPPER */
.dropdown{
  position:relative;
  width:160px;
  font-family:var(--font);
}

/* BUTTON */
.dropdown-btn{
  width:100%;
  background:var(--panel);
  color:var(--accent);
  padding:10px 14px;
  font-weight:600;
  cursor:pointer;
  text-align:left;
  font-size:14px;
  outline:none;
  border:none;
  border-radius:8px;
}

.dropdown-btn:hover{
  background:rgba(0,151,157,.15);
}
.dropdown-btn:focus-visible{
  outline:2px solid var(--accent);
  outline-offset:2px;
}

/* MENU */
.dropdown-menu{
  position:absolute;
  top:110%;
  left:0;
  width:100%;
  background:white;
  box-shadow:0 6px 14px rgba(0,0,0,.12);

  opacity:0;
  transform:translateY(-8px);
  pointer-events:none;

transition:
  opacity .25s ease,
  transform .25s ease;

  z-index:999;
}

.submenu-wrapper {
  position: relative;
}

.side-dropdown {
  display: none;
  position: absolute;
  right: 100%;
  top: 0;
  background:white;
  box-shadow:0 6px 14px rgba(0,0,0,.12);
  min-width: 180px;
  z-index: 1000;
  flex-direction: column;
}

.submenu-wrapper:hover .side-dropdown {
  display: flex;
}

.side-dropdown a {
  padding: 8px 12px;
  color: var(--accent);
  text-decoration: none;
  display: block;
}

.side-dropdown a:hover {
  background-color: #444;
}

.submenu-toggle {
  color:var(--accent);
  padding: 8px 12px;
  cursor: pointer;
  display: inline-block;
}

.submenu-toggle:hover {
  background-color: white;
}

.dropdown-btn span{
  display:inline-block;
  transition:transform .25s ease;
}

.dropdown.open .dropdown-btn span{
  transform:rotate(180deg);
}

/* OPEN STATE */
.dropdown-menu.open{
  opacity:1;
  transform:translateY(0);
  pointer-events:auto;
}

.dropdown-menu a{
  display:block;
  padding:10px 14px;
  text-decoration:none;
  font-weight:600;
  color:var(--accent);
}

.dropdown-menu a:hover{
  background:rgba(0,151,157,.12);
}

/* Dropdown spacing */
#more details {
  margin-bottom: 14px;
  border-radius: 6px;
  background: #f9fbff;
  padding: 6px 10px;
}

/* Make summary look clickable */
summary {
  cursor: pointer;
  user-select: none;
  font-size: 16px;
}

/* Remove text-cursor feeling */
summary::-webkit-details-marker {
  display: none;
}

/* Custom arrow */
summary::before{
  content:"";
  margin-right:6px;
  transition:transform .2s;
}
details[open] summary::before{
  transform:rotate(90deg);
}

footer{
  position:fixed;
  bottom:0;
  left:0;
  width:100%;
  height:60px;
  background:var(--panel);
  color:var(--accent);
  display:flex;
  align-items:center;
  justify-content:center;
  font-weight:600;
  box-shadow:0 -2px 6px rgba(0,0,0,.1);
}

/* PAGES */
.page{display:none}
.page.active{display:block}

/* SECTIONS */
h2{
  color:var(--accent);
  margin-bottom:10px;
}
p{
  line-height:1.6;
  margin-bottom:14px;
}

/* IMAGE PIN MAP */
.pin-map{
  position:relative;
  max-width:500px;
  margin:20px auto;
}
.pin-map img{
  width:100%;
  display:block;
  border-radius:10px;
}

/* CLICKABLE PIN */
.pin{
  position:absolute;
  width:18px;
  height:18px;
  border-radius:50%;
  background:var(--accent2);
  border:2px solid white;
  cursor:pointer;
}

/* INFO BOX */
#pinInfo{
  background:white;
  border-left:4px solid var(--accent);
  padding:12px;
  margin-top:15px;
  display:none;
}

.pin {
  border-radius: 50%;
  background: rgba(0,0,0,0.15);
}

.pin.active { background: #ff3b3b; box-shadow: 0 0 8px #ff3b3b; }

.pin-label {
  position: absolute;
  top: -18px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 10px;
  background: rgba(0,0,0,0.75);
  color: #fff;
  padding: 2px 4px;
  border-radius: 4px;
  white-space: nowrap;
  display: none;
  pointer-events: none;
}

.pin.active .pin-label {
  display: block;
}

.special-layout .content {
  display: flex;
  align-items: right;
  gap: 20px;
  flex-wrap: wrap;
}

.special-layout .content p {
  flex: 1 1 300px;
  order: 2;
  font-size: 16px;
  line-height: 1.5;
}

.special-layout .content img {
  flex: 1 1 300px;
  order: 1;
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.hardware-layout{
  display:grid;
  grid-template-columns: 1fr 0.9fr;
  gap:40px;
  align-items:start;
}

/* LEFT */
.hardware-left img{
  max-width:100%;
  margin:16px 0;
  border-radius:10px;
}

/* RIGHT */
.hardware-right {
  position: sticky;
  top: 80px;
}

.hardware-left {
  max-width: 520px;
}

.hardware-right {
  border-left: 2px dashed #2a2a2a;
  padding-left: 24px;
}

.wiring-card{
  background:#0e1a24;
  border:1px solid #2a4a63;
  border-radius:12px;
  padding:12px;
  color:#dff1ff;
  margin-bottom:10px;
}

.wiring-card summary{
  cursor:pointer;
  font-weight:bold;
}

.wiring-card img{
  width:100%;
  margin-top:10px;
  border-radius:8px;
}

.led-container {
  transform-origin: center;
  transition: transform 0.3s ease;
}

.led-container:hover {
  transform: scale(4);
}

.led-frame {
  position: absolute;
  top: 0;
  width: 100px;
  height: 100px;
  opacity: 0;
  border-radius: 8px;
}

.led-frame.active {
  opacity: 1;
}

#uno3d-wrap {
  width: 80%;
  height: 80vh;
  max-height: 60%;
  display: flex;
  justify-content: center;
  align-items: center;
  background: transparent;
}

#uno3d {
  width: 100% !important;
  height: 100% !important;
  display: block;
}

.form-panel {
  width: 100%;
  max-width: var(--max-width);
  background: var(--panel);
  border: 2px solid var(--accent);
  padding: 24px;
  box-shadow: 0 0 15px rgba(0,255,0,0.15);
}

.form-panel h2 {
  text-align: center;
  color: var(--accent);
  margin-bottom: 10px;
}

.form-panel p {
  text-align: center;
  margin-bottom: 20px;
  font-size: 0.95rem;
}

/* ===== FORM ===== */
label {
  display: block;
  margin-top: 14px;
  font-weight: bold;
}

input,textarea {
  width: 100%;
  margin-top: 6px;
  padding: 8px;
  background: var(--panel);
  color: var(--accent);
  border: 2px solid var(--accent);
  font-family: monospace;
  font-size: 1rem;
  outline: none;
}

input:focus,
textarea:focus {
  background: #ffffff;
  box-shadow: 0 0 8px var(--accent);
}

textarea {
  resize: vertical;
}

.btn {
  display: inline-block;
  padding: 10px 20px;
  background-color: #0077cc;
  color: white;
  text-decoration: none;
  border-radius: 6px;
  font-weight: bold;
  transition: background-color 0.3s ease;
}
.btn:hover {
  background-color: #005fa3;
}

#examples.active{
  overflow:auto;
}

.quick-links {
  display: flex;
  gap: 12px;
  margin: 15px 0 25px;
  flex-wrap: wrap;
}

.quick-links a {
  flex: 1;
  min-width: 180px;
  text-align: center;
  padding: 12px 16px;
  border-radius: 10px;
  background: var(--panel);
  border: 2px solid var(--accent);
  color: var(--accent);
  font-weight: bold;
  text-decoration: none;
  transition: all 0.2s ease;
}

.quick-links a:hover {
  background: var(--accent);
  color: #fff;
  transform: translateY(-2px);
}


/* START BOX */

.start-box {
  margin: 40px auto 10px;
  padding: 20px;
  max-width: 420px;
  text-align: center;
  border-radius: 14px;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  color: #fff;
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

.start-box p {
  margin: 0 0 12px;
  font-size: 1.1em;
}

.start-btn {
  display: inline-block;
  padding: 12px 22px;
  border-radius: 25px;
  background: #fff;
  color: var(--accent);
  font-weight: bold;
  text-decoration: none;
  transition: all 0.25s ease;
}

.start-btn:hover {
  background: var(--panel);
  transform: scale(1.05);
}


/* INFO BLOCK */

.info-block {
  background: var(--panel);
  border-left: 5px solid var(--accent);
  padding: 15px 18px;
  border-radius: 8px;
  margin-bottom: 15px;
  color: var(--text);
}

.info-block b {
  color: var(--accent);
}

.board-img{
  max-width:100%;
  border-radius:10px;
  margin:10px 0;
}

.divider{
  height:5vh;
}

.spec-grid{
  display:grid;
  grid-template-columns:  1fr 2f;
  gap:12px;
  background:var(--panel);
  padding:15px;
  border-radius:10px;
  margin-top:10px;
}

.spec-grid div{
  background:#fff;
  border-radius:8px;
  padding:10px;
  display:flex;
  justify-content:space-between;
  font-weight:600;
}

.spec-grid span{
  color:var(--accent);
}

.table-wrap{
  overflow-x:auto;
}

.compare{
  width:100%;
  border-collapse:collapse;
  margin-top:10px;
  background:#fff;
  border-radius:10px;
  overflow:hidden;
}

.compare th{
  background:var(--accent);
  color:#fff;
  padding:10px;
  text-align:left;
}

.compare td{
  padding:10px;
  border-bottom:1px solid #ddd;
}

.compare tr:nth-child(even){
  background:#f5faff;
}

.next-link{
  margin-top:20px;
  font-weight:bold;
}

/* ================= MOBILE FIX PACK ================= */

@media (max-width:900px){

  main{
    padding:110px 12px 100px;
  }

  nav{
    overflow-x:auto;
    white-space:nowrap;
  }

  .nav-spacer{display:none;}

  /* examples page */
  #examples{
    position:relative;
    top:auto;
    bottom:auto;
    height:auto;
    display:block;
  }

  .examples-layout{
    flex-direction:column;
    height:auto;
  }

  .examples-menu{
    width:100%;
    height:auto;
    border-right:none;
    border-bottom:4px solid var(--accent2);
  }

  .examples-content{
    width:100%;
    height:auto;
  }

  /* hardware grid stacks */
  .hardware-layout{
    grid-template-columns:1fr;
  }

  .hardware-right{
    position:static;
    border-left:none;
    padding-left:0;
    border-top:2px dashed #2a2a2a;
    margin-top:20px;
  }

  /* spec grid */
  .spec-grid{
    grid-template-columns:1fr;
  }
}

/* SMALL PHONES */
@media (max-width:600px){

  h2{font-size:20px}
  p{font-size:15px}

  .logo{height:24px;width:24px;}
  .title{font-size:18px;}

  header{
    padding:10px;
  }

  footer{
    height:50px;
    font-size:14px;
  }

  .dropdown{
    width:100%;
  }

  .dropdown-menu a{
    padding:14px 16px;
    font-size:16px;
  }

  .pin{
    width:14px;
    height:14px;
  }

  .pin-label{
    font-size:9px;
  }

  .quick-links a{
    min-width:100%;
  }

  .start-box{
    margin:20px auto;
    padding:16px;
  }

  .start-btn{
    width:100%;
  }
}

/* TABLET */
@media (max-width:768px){
  .content{
    flex-direction:column;
  }

  #pinInfoDisplay{
    padding-left:0 !important;
    margin-top:16px;
  }
}

/* ============ TABLET & SMALL LAPTOP ============ */
@media (min-width:901px) and (max-width:1200px){

  main{
    max-width:900px;
    padding:120px 24px 90px;
  }

  nav a{
    padding:6px 10px;
    font-size:14px;
  }

  .title{
    font-size:19px;
  }

  /* Examples page */
  .examples-menu{
    width:28%;
  }

  .examples-content{
    width:72%;
    padding:18px;
  }

  /* Hardware layout balance */
  .hardware-layout{
    grid-template-columns:1.1fr 0.9fr;
    gap:24px;
  }

  .hardware-right{
    top:90px;
  }

  /* Spec grid */
  .spec-grid{
    grid-template-columns:1fr 1fr;
  }

  /* Cards */
  .wiring-card{
    padding:10px;
  }

  /* Code blocks */
  .code-block pre{
    font-size:14px;
  }

  /* Pin labels */
  .pin-label{
    font-size:11px;
  }

  /* Quick links */
  .quick-links a{
    min-width:200px;
  }
}

/* ================= MOBILE NAV + DROPDOWNS (FINAL, CLEAN) ================= */
@media (max-width:900px){

  /* NAV SCROLL BAR */
  nav{
    display:flex;
    align-items:center;
    gap:8px;
    overflow-x:auto;
    overflow-y:visible;
    white-space:nowrap;
    -webkit-overflow-scrolling:touch;
    position:relative;
  }
  nav::-webkit-scrollbar{display:none}

  .nav-spacer{display:none;}

  /* DROPDOWN CONTAINER */
.dropdown{
  position:relative;
  flex:0 0 auto;
  width:auto;
}

  /* BUTTON SIZE */
  .dropdown-btn{
    padding:8px 12px;
    font-size:14px;
    border-radius:8px;
  }

  /* MENU FLOATING */
  .dropdown-menu{
  position:fixed; /* escape header */
  top:60px;
  left:10%;
    min-width:180px;
    max-width:240px;
    background:white;
    border-radius:10px;
    padding:6px 0;
    box-shadow:0 6px 14px rgba(0,0,0,.25);
    z-index:9999;

    opacity:0;
    transform:translateY(-6px);
    pointer-events:none;
    transition:.2s ease;
  }

  /* OPEN STATE */
  .dropdown.open .dropdown-menu{
    opacity:1;
    transform:translateY(0);
    pointer-events:auto;
  }

  /* LINKS */
  .dropdown-menu a{
    display:block;
    padding:8px 12px;
    font-size:14px;
    color:var(--accent);
  }
  .dropdown-menu a:hover{
    background:rgba(0,151,157,.15);
  }
}

/* SMALL PHONES */
@media (max-width:600px){

  h2{font-size:20px}
  p{font-size:15px}

  .logo{height:24px;width:24px;}
  .title{font-size:18px;}

  header{
    padding:10px;
  }

  footer{
    height:50px;
    font-size:14px;
  }

.dropdown{
  position:relative;
  flex:0 0 auto;
  width:auto;
}

  .dropdown-menu a{
    padding:14px 16px;
    font-size:16px;
  }

  .pin{
    width:14px;
    height:14px;
  }

  .pin-label{
    font-size:9px;
  }

  .quick-links a{
    min-width:100%;
  }

  .start-box{
    margin:20px auto;
    padding:16px;
  }

  .start-btn{
    width:100%;
  }
}

/* TABLET */
@media (max-width:768px){
  .content{
    flex-direction:column;
  }

  #pinInfoDisplay{
    padding-left:0 !important;
    margin-top:16px;
  }
}

/* ===== MOBILE DROPDOWN OVERRIDE (NO CONFLICT) ===== */
@media (max-width:900px){

  .dropdown{
    position:relative;
    flex:0 0 auto;
    width:auto;
  }

  .dropdown-btn{
    padding:8px 12px;
    font-size:14px;
    border-radius:8px;
  }

  .dropdown-menu{
    position:fixed; /* escape header */
    background:white;
    border-radius:10px;
    padding:6px 0;
    box-shadow:0 6px 14px rgba(0,0,0,.25);
    z-index:9999;

    opacity:0;
    transform:translateY(-6px);
    pointer-events:none;
    transition:.2s ease;
  }

  /* USE SAME OPEN STATE AS DESKTOP */
  .dropdown-menu.open{
    opacity:1;
    transform:translateY(0);
    pointer-events:auto;
  }

  /* ARROW ROTATION */
  .dropdown-btn span{
    display:inline-block;
    transition:transform .25s ease;
  }
  .dropdown.open .dropdown-btn span{
    transform:rotate(180deg);
  }

  .dropdown-menu a{
    display:block;
    padding:8px 12px;
    font-size:14px;
    color:var(--accent);
  }

  .dropdown-menu a:hover{
    background:rgba(0,151,157,.15);
  }
}

</style>
</head>

<body>

<header>
  <div class="topbar">
    <img src="logo-left.png" class="logo left">
    <div class="title">Arduino Guide</div>
    <img src="logo-right.png" class="logo right"> </div>

  <nav>
    <a href="Arduino%20Guide.html#home">Home</a>
<div class="dropdown">
  <button class="dropdown-btn" onclick="toggleDropdown(this, event)">
    Board <span>▾</span>
  </button>

<div class="dropdown-menu">
  <a href="Arduino%20Guide.html#board" onclick="selectLink(this)">Board</a>
  <a href="Arduino%20Guide.html#uno" onclick="selectLink(this)">Arduino Uno 3D</a>
  <a href="Arduino%20Guide.html#hardware" onclick="selectLink(this)">Hardware</a>
  <a href="Arduino%20Guide.html#hardwarevi" onclick="selectLink(this)">Hardware Visual</a>
</div>
</div>
    <a href="Arduino%20Guide.html#more">Arduino Explained</a>
    <a href="#examples">Examples</a>

    <span class="nav-spacer"></span>

    <a href="Arduino%20Guide%20Extra.html#contact">Contact</a>

<div class="dropdown">
  <button class="dropdown-btn" onclick="toggleDropdown(this, event)">
    More <span>▾</span>
  </button>

<div class="dropdown-menu">
  <a href="Arduino Quiz.html">Quizes</a>
  <a href="Arduino Community.html">Community</a>
    <a href="Arduino%20Guide%20Extra.html#breadboards">Breadboards</a>
<div class="submenu-wrapper">
  <span class="submenu-toggle">More of all</span>
  <div class="side-dropdown">
    <a href="Arduino%20Guide%20Extra.html#leds" onclick="selectLink(this)">LEDs</a>
    <a href="Arduino%20Guide%20Extra.html#resistors" onclick="selectLink(this)">Resistors</a>
    <a href="Arduino%20Guide%20Extra.html#capacitors" onclick="selectLink(this)">Capacitors</a>
    <a href="Arduino%20Guide%20Extra.html#wires" onclick="selectLink(this)">Wires</a>
    <a href="Arduino%20Guide%20Extra.html#pins-code" onclick="selectLink(this)">Pins</a>
  </div></div>
</div></div>
  </nav></header>

<main>

<section id="examples" class="page">

  <div class="examples-layout">

    <!-- SIDE MENU -->
<aside class="examples-menu">

  <h3>Basic</h3>
  <div class="example-item" onclick="loadExample('blink')">
    <strong>Blink LED</strong>
    <span>Digital output</span>
  </div>

  <div class="example-item" onclick="loadExample('button')">
    <strong>Button</strong>
    <span>Digital input</span>
  </div>

  <div class="example-item" onclick="loadExample('button-led')">
    <strong>Button + LED</strong>
    <span>Input → Output</span>
  </div>

  <div class="example-item" onclick="loadExample('buzzer')">
    <strong>Buzzer</strong>
    <span>Sound output</span>
  </div>

  <h3>Intermediate</h3>
  <div class="example-item" onclick="loadExample('pwm')">
    <strong>PWM LED</strong>
    <span>Brightness control</span>
  </div>

  <div class="example-item" onclick="loadExample('multi-led')">
    <strong>Multiple LEDs</strong>
    <span>Multiple outputs</span>
  </div>

  <div class="example-item" onclick="loadExample('analog')">
    <strong>Analog Sensor</strong>
    <span>analogRead()</span>
  </div>

  <div class="example-item" onclick="loadExample('joystick')">
    <strong>Joystick</strong>
    <span>Joystick</span>
  </div>

  <div class="example-item" onclick="loadExample('oled')">
    <strong>Oled 4-Pin Display</strong>
    <span>Oled 4-Pin Display</span>
  </div>

  <h3>Advanced</h3>
  <div class="example-item" onclick="loadExample('serial')">
    <strong>Serial Monitor</strong>
    <span>USB communication</span>
  </div>

  <div class="example-item" onclick="loadExample('timer')">
    <strong>Timers</strong>
    <span>Non-blocking code</span>
  </div>

</aside>

    <!-- MAIN EXAMPLE AREA -->
<div class="examples-content" id="exampleBox"> 
  <h2>Select an example</h2>
  <p>Choose an example from the left menu.</p>
  <p><em>Try one example to see how it works in practice!</em></p>
</div>

  </div>

</section>


<!-- NEW SECTION BELOW -->


<section id="notfound" class="page">
    <h2>404 – Page Not Found</h2>
    <p>The section you tried to open does not exist.</p>
    <button onclick="goHome()">Go Home</button>
</section>

</main>

<footer>
  Arduino Guide Ⓖ 2026
</footer>
<script>
const STORAGE_KEY = "arduino-last-page";

/* ACTIVATE PAGE */
function activatePage(id, save = true) {
  const target = document.getElementById(id);

  document.querySelectorAll(".page").forEach(p =>
    p.classList.remove("active")
  );

  if (target) {
    target.classList.add("active");
    if (save) localStorage.setItem(STORAGE_KEY, id);
  } else {
    document.getElementById("notfound").classList.add("active");
    if (save) localStorage.setItem(STORAGE_KEY, "notfound");
  }

  window.scrollTo(0, 0);
}

/* HOME BUTTON */
function goHome() {
  activatePage("home");
  history.pushState(null, "", "#home");
}

/* NAV LINK HANDLING */
document.querySelectorAll("nav a").forEach(a => {
  a.addEventListener("click", e => {
    const href = a.getAttribute("href");
    if (!href || href.startsWith("http")) return;

    // #section
    if (href.startsWith("#")) {
      e.preventDefault();
      const id = href.substring(1);
      activatePage(id);
      history.pushState(null, "", href);
      return;
    }

    // page.html#section
    if (href.includes(".html#")) {
      const [page, hash] = href.split("#");
      if (location.pathname.endsWith(page)) {
        e.preventDefault();
        activatePage(hash);
        history.pushState(null, "", "#" + hash);
      }
    }
  });
});

/* BACK / FORWARD */
window.addEventListener("hashchange", () => {
  const id = location.hash.substring(1);
  activatePage(id, false);
});

/* RESTORE LAST PAGE ON LOAD */
window.addEventListener("load", () => {
  const hash = location.hash.substring(1);
  const last = localStorage.getItem(STORAGE_KEY) || "home";

  if (hash) {
    activatePage(hash);
  } else {
    activatePage(last);
    history.replaceState(null, "", "#" + last);
  }
});

/* DROPDOWNS (unchanged) */
function toggleDropdown(btn, e) {
  e.stopPropagation();

  document.querySelectorAll(".dropdown").forEach(d => {
    if (d !== btn.closest(".dropdown")) {
      d.classList.remove("open");
      d.querySelector(".dropdown-menu").classList.remove("open");
    }
  });

  const dropdown = btn.closest(".dropdown");
  dropdown.classList.toggle("open");
  dropdown.querySelector(".dropdown-menu").classList.toggle("open");
}

function selectLink(link) {
  const dropdown = link.closest(".dropdown");
  dropdown.classList.remove("open");
  dropdown.querySelector(".dropdown-menu").classList.remove("open");
}

document.addEventListener("click", () => {
  document.querySelectorAll(".dropdown").forEach(d => {
    d.classList.remove("open");
    d.querySelector(".dropdown-menu").classList.remove("open");
  });
});

function toggleSubmenu(event) {
  event.preventDefault();
  const wrapper = event.target.parentElement;
  wrapper.classList.toggle('open');
}

function copyCode(btn){
  const code = btn.nextElementSibling.innerText;
  navigator.clipboard.writeText(code).then(()=>{
    btn.textContent="✓";
    setTimeout(()=>btn.textContent="Copy",900);
  });
}

document.querySelectorAll('.led-container').forEach(container => {
  const frames = container.querySelectorAll('.led-frame');
  let index = 0;

  frames[index].classList.add('active');

  setInterval(() => {
    frames[index].classList.remove('active');
    index = (index + 1) % frames.length;
    frames[index].classList.add('active');
  }, 1000);
});

renderer = new THREE.WebGLRenderer({
  canvas: document.getElementById("uno3d"),
  antialias: true,
  alpha: true // <- this removes black background
});

renderer.setClearColor(0x000000, 0); // fully transparent

function loadExample(type){
  const box = document.getElementById("exampleBox");

  if(type === "blink"){
    box.innerHTML = `
      <h2>Blink LED</h2>
      <p>Basic digital output example.</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre>
// This code runs repeatedly on the Arduino
// It makes the built-in LED blink on and off

// Set digital pin 13 as an OUTPUT
// Pin 13 has a built-in LED on most Arduino boards
pinMode(13, OUTPUT);

// Turn the LED ON by setting the pin HIGH (5V)
digitalWrite(13, HIGH);

// Pause the program for 1000 milliseconds (1 second)
delay(1000);

// Turn the LED OFF by setting the pin LOW (0V)
digitalWrite(13, LOW);

// Pause again for 1 second
delay(1000);

// After this, the code repeats forever
        </pre>
      </div>
    `;
  }

  if(type === "button"){
    box.innerHTML = `
      <h2>Button Input</h2>
      <p>Read a button using a digital pin.</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre>
// Set pin 2 as an INPUT pin
// This pin will read HIGH (5V) or LOW (0V)
pinMode(2, INPUT);

// Read the current state of the button
// HIGH = button pressed (depending on wiring)
// LOW  = button not pressed
int value = digitalRead(2);

// NOTE:
// Without a pull-up or pull-down resistor,
// the value may randomly change (floating pin)

        </pre>
      </div>
    `;
  }

  if(type === "button-led"){
    box.innerHTML = `
      <h2>Button + LED</h2>
      <p>Turn an LED on when a button is pressed.</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre>
// Configure pin 2 to read button input
pinMode(2, INPUT);

// Configure pin 13 to control the LED
pinMode(13, OUTPUT);

// Read the button state
// If pin 2 reads HIGH, the button is pressed
if(digitalRead(2) == HIGH){

  // Button is pressed → turn LED ON
  digitalWrite(13, HIGH);

}else{

  // Button not pressed → turn LED OFF
  digitalWrite(13, LOW);
}

// This code should be inside loop()
// so it continuously checks the button

        </pre>
      </div>
    `;
  }

  if(type === "pwm"){
    box.innerHTML = `
      <h2>PWM LED (Fade)</h2>
      <p>Control LED brightness using PWM (~ pins).</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre>
// Set pin 9 as OUTPUT
// Pin 9 supports PWM (~ symbol on Arduino)
pinMode(9, OUTPUT);

// Write a PWM value to the pin
// 0   = always OFF
// 255 = always ON
// Values in between simulate brightness
analogWrite(9, 128); // ~50% brightness

// NOTE:
// PWM is NOT true analog voltage
// It rapidly switches the pin ON and OFF

        </pre>
      </div>
    `;
  }

  if(type === "multi-led"){
    box.innerHTML = `
      <h2>Multiple LEDs</h2>
      <p>Control more than one LED.</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre>
// Set pin 13 as OUTPUT (LED 1)
pinMode(13, OUTPUT);

// Set pin 12 as OUTPUT (LED 2)
pinMode(12, OUTPUT);

// Set pin 11 as OUTPUT (LED 3)
pinMode(11, OUTPUT);

// Turn ON LED connected to pin 13
digitalWrite(13, HIGH);

// Turn OFF LED connected to pin 12
digitalWrite(12, LOW);

// Turn OFF LED connected to pin 11
digitalWrite(11, LOW);

// All three pins are controlled independently
        </pre>
      </div>
    `;
  }

  if(type === "buzzer"){
    box.innerHTML = `
      <h2>Buzzer Sound</h2>
      <p>Make sound using a buzzer.</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre>
// Set pin 6 as OUTPUT
// Buzzer signal pin is connected here
pinMode(6, OUTPUT);

// Generate a sound at 1000 Hz (1 kHz)
// Works with passive buzzers
tone(6, 1000);

// Keep the sound playing for 500 ms
delay(500);

// Stop the sound
noTone(6);

// NOTE:
// Active buzzers do NOT need tone()
// They only need HIGH or LOW

        </pre>
      </div>
    `;
  }

  if(type === "analog"){
    box.innerHTML = `
      <h2>Analog Sensor</h2>
      <p>Read a sensor value (0–1023).</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre>
// Read analog voltage from pin A0
// Arduino converts voltage to a number:
// 0   = 0V
// 1023 = reference voltage (usually 5V)
int value = analogRead(A0);

// Example:
// ~512 ≈ 2.5V (half of 5V)

// NOTE:
// analogRead does NOT measure current
// Only voltage

        </pre>
      </div>
    `;
  }

if(type === "joystick"){
  box.innerHTML = `
    <h2>Joystick (Analog + Button)</h2>
    <p>
      Read X/Y movement and button press from a joystick module.
      Uses analog pins and one digital pin.
    </p>

    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre>
// Joystick connections
// VRx -> A0
// VRy -> A1
// SW  -> Pin 2

void setup(){
  pinMode(2, INPUT_PULLUP); // Joystick button
  Serial.begin(9600);
}

void loop(){
  int x = analogRead(A0); // X-axis (0–1023)
  int y = analogRead(A1); // Y-axis (0–1023)
  int button = digitalRead(2); // LOW when pressed

  Serial.print("X: ");
  Serial.print(x);
  Serial.print("  Y: ");
  Serial.print(y);
  Serial.print("  Button: ");
  Serial.println(button == LOW ? "Pressed" : "Released");

  delay(200);
}
      </pre>
    </div>
  `;
}

if(type === "oled"){
  box.innerHTML = `
    <h2>OLED Display (4-Pin I²C)</h2>
    <p>
      Display text on a small OLED screen using I²C.
      Uses only SDA and SCL pins.
    </p>

    <div class="code-block">
      <button class="copy-btn" onclick="copyCode(this)">Copy</button>
      <pre>
#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>

#define SCREEN_WIDTH 128
#define SCREEN_HEIGHT 64

Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire);

void setup(){
  if(!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)){
    while(true); // Stop if OLED not found
  }

  display.clearDisplay();
  display.setTextSize(1);
  display.setTextColor(WHITE);
  display.setCursor(0, 0);
  display.println("Arduino OLED");
  display.println("4-pin I2C");
  display.display();
}

void loop(){
  // Nothing here for now
}
      </pre>
    </div>

    <p><i>
      Wiring: VCC → 5V / 3.3V, GND → GND, SDA → A4, SCL → A5
    </i></p>
  `;
}

  if(type === "serial"){
    box.innerHTML = `
      <h2>Serial Monitor</h2>
      <p>Send data to the PC via USB.</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre>
// Setup runs once
void setup(){
  // Start serial communication at 9600 baud rate
  Serial.begin(9600);
}

// Loop runs repeatedly
void loop(){
  // Print "Hello" to serial monitor
  Serial.println("Hello");
  
  // Wait 1 second
  delay(1000);
}
        </pre>
      </div>
    `;
  }

  if(type === "timer"){
    box.innerHTML = `
      <h2>Timers (millis)</h2>
      <p>Run code without blocking.</p>

      <div class="code-block">
        <button class="copy-btn" onclick="copyCode(this)">Copy</button>
        <pre>
// Store the last time the action happened
// unsigned long is required for millis()
unsigned long t = 0;

void loop(){

  // millis() returns time since Arduino started (ms)
  // This checks if 1 second has passed
  if(millis() - t > 1000){

    // Update the timer
    t = millis();

    // Toggle LED state:
    // If ON → OFF
    // If OFF → ON
    digitalWrite(13, !digitalRead(13));
  }

  // Code here keeps running without delay()
}

// This method allows multitasking

        </pre>
      </div>
    `;
  }
}

</script>

<script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.8.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyCVq2PWrDMXTsG4GdceE4tUvTYeRYsul1Q",
    authDomain: "arduino-guideg.firebaseapp.com",
    projectId: "arduino-guideg",
    storageBucket: "arduino-guideg.firebasestorage.app",
    messagingSenderId: "146740789054",
    appId: "1:146740789054:web:069f11c6f6aa314b5af66f",
    measurementId: "G-V3ZB157P0R"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);

</script>

<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</body>
</html>